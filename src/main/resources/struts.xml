<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>

    <constant name="struts.actionProxyFactory" value="NewcastleConnections.Session.ActionProxyFactory"/>
    <bean name="cart" class="NewcastleConnections.Cart.Cart" scope="session" />

    <!-- Default package -->
    <package name="default" extends="struts-default">

        <interceptors>
            <interceptor name="authentication" class="NewcastleConnections.Authentication.AuthenticationInterceptor" />
        </interceptors>

        <global-results>
            <result name="login" type="redirect">/login</result>
        </global-results>

        <action name="home">
            <result>WEB-INF/jsp/home.jsp</result>
        </action>

        <action name="countdown">
            <result>WEB-INF/jsp/countdown.jsp</result>
        </action>

        <action name="managementPortal">
            <result>WEB-INF/jsp/managementPortal.jsp</result>
        </action>

        <!-- Example authentication -->
        <action name="private">
            <interceptor-ref name="authentication" />
            <result name="success">/WEB-INF/jsp/private.jsp</result>
        </action>

        <!-- Cart updaters -->
        <action name="update-experience" class="NewcastleConnections.Actions.Cart.UpdateCartExperience">
            <result type="redirect">cartTest</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>
        <action name="update-hotel" class="NewcastleConnections.Actions.Cart.UpdateCartHotel">
            <result type="redirect">cartTest</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>
        <action name="update-restaurant" class="NewcastleConnections.Actions.Cart.UpdateCartRestaurant">
            <result type="redirect">cartTest</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>
        <action name="update-transport" class="NewcastleConnections.Actions.Cart.UpdateCartTransport">
            <result type="redirect">cartTest</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <!-- Management Portal -->
        <action name="createOffer" class="NewcastleConnections.Actions.CreateOffer">
            <result name="success">/WEB-INF/jsp/managementPortal-create-offer.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <action name="submitOffer" class="NewcastleConnections.Actions.SubmitOffer">
            <result name="success">/WEB-INF/jsp/managementPortal.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <action name="managementPortal">
            <result name="success">/WEB-INF/jsp/managementPortal.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <action name="displayProducts" class="NewcastleConnections.Actions.GetData">
            <result name="success">/WEB-INF/jsp/managementPortal-display-products.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <action name="createRestaurant">
            <result name="success">/WEB-INF/jsp/managementPortal-create-restaurant.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <action name="createHotel">
            <result name="success">/WEB-INF/jsp/managementPortal-create-hotel.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <action name="createExperience">
            <result name="success">/WEB-INF/jsp/managementPortal-create-experience.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <action name="editOffer" class="NewcastleConnections.Actions.GetDataSingleOffer">
            <result name="success">/WEB-INF/jsp/managementPortal-edit-offer.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <action name="analytics">
            <result>WEB-INF/jsp/managementPortal-analytics.jsp</result>
        </action>

        <action name="invoice" class="NewcastleConnections.Actions.GetInvoices">
            <result name="success">WEB-INF/jsp/managementPortal-invoice.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <!-- End Management Portal -->
        
        <action name="dbTest" class="NewcastleConnections.Actions.Results">
            <result name="success">/WEB-INF/jsp/databaseTest.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>


        <action name="results" class="NewcastleConnections.Actions.Results">
            <result name="success">/WEB-INF/jsp/results.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

        <action name="cartTest" class="NewcastleConnections.Actions.Cart.ViewCart">
            <result>/WEB-INF/jsp/cartTest.jsp</result>
        </action>

        <action name="cartTest2" class="NewcastleConnections.Actions.Cart.UpdateCart">
            <result type="redirect">cartTest</result>
        </action>

        <action name="login" class="NewcastleConnections.Authentication.LoginAction">
            <result>WEB-INF/jsp/home.jsp</result>
        </action>

        <action name="callback" class="NewcastleConnections.Authentication.CallbackAction">
            <result name="normal" type="redirectAction">home</result>
            <result name="admin" type="redirectAction">managementPortal</result>

        </action>

        <action name="payment">
            <result>WEB-INF/jsp/payment.jsp</result>
        </action>

        <action name="complete" class="NewcastleConnections.Actions.Complete">
            <result>WEB-INF/jsp/complete.jsp</result>
        </action>

        <action name="logout" class="NewcastleConnections.Authentication.LogoutAction">
            <result type="redirectAction">home</result>
        </action>

        <!-- User Management Portal -->

        <action name="customerPortal">
            <result>WEB-INF/jsp/customerPortal.jsp</result>
        </action>

        <action name="customerPortal-bookings" class="NewcastleConnections.Actions.GetUserInvoices">
            <result>WEB-INF/jsp/customerPortal-bookings.jsp</result>
        </action>


        <action name="rec" class="NewcastleConnections.Actions.RecommendationTest">
            <result name="success">/WEB-INF/jsp/recommendationTest.jsp</result>
            <result name="error">/WEB-INF/jsp/exception.jsp</result>
        </action>

    </package>


</struts>
